# π“ ANA (Atomic Note Architect) μ‚¬μ©μ μ™„λ²½ κ°€μ΄λ“

> **λ‹Ήμ‹ μ λ‘ λ²μ§Έ λ‡(Second Brain)λ¥Ό μ„ν• AI ννΈλ„**  
> ANAλ” λ‹¨μν• λ…ΈνΈ μ•±μ΄ μ•„λ‹™λ‹λ‹¤. λ‹Ήμ‹ μ κ±°μΉ μƒκ°(Raw Note)μ„ μ •μ λ μ§€μ‹(Atomic Note)μΌλ΅ λ³€ν™ν•κ³ , κΈ°μ΅΄ μ§€μ‹κ³Ό μ—°κ²°ν•΄μ£Όλ” μ§€λ¥ν• μ—μ΄μ „νΈμ…λ‹λ‹¤.

---

## π“‹ λ©μ°¨

1. [π ANAλ€ λ¬΄μ—‡μΈκ°€μ”?](#-anaλ€-λ¬΄μ—‡μΈκ°€μ”)
    - [ν•µμ‹¬ μ² ν•™](#ν•µμ‹¬-μ² ν•™)
    - [μ‘λ™ μ›λ¦¬ (The Logic)](#-μ‘λ™-μ›λ¦¬-the-logic)
2. [π€ μ‹μ‘ν•κΈ° (Getting Started)](#-μ‹μ‘ν•κΈ°-getting-started)
    - [μ„¤μΉν•κΈ°](#1-μ„¤μΉν•κΈ°)
    - [μ„¤μ •ν•κΈ° (Ollama & Docker ν¬ν•¨)](#2-μ„¤μ •ν•κΈ°-ollama--docker-ν¬ν•¨)
3. [π’» κΈ°λ³Έ μ‚¬μ©λ²•](#-κΈ°λ³Έ-μ‚¬μ©λ²•)
    - [μƒ λ…ΈνΈ λ§λ“¤κΈ°: 3λ‹¨κ³„ μ—¬μ •](#1-μƒ-λ…ΈνΈ-λ§λ“¤κΈ°-3λ‹¨κ³„-μ—¬μ •)
    - [κΈ°μ΅΄ λ…ΈνΈ μ²λ¦¬ν•κΈ°](#2-κΈ°μ΅΄-λ…ΈνΈ-μ²λ¦¬ν•κΈ°)
    - [μ¤λ§νΈ λ…ΈνΈ λ¶„ν• ](#3-μ¤λ§νΈ-λ…ΈνΈ-λ¶„ν• )
4. [π§  ν•µμ‹¬ κΈ°λ¥ μ‹¬μΈµ λ¶„μ„](#-ν•µμ‹¬-κΈ°λ¥-μ‹¬μΈµ-λ¶„μ„)
    - [μλ™ μ—°κ²° (Auto-Linking)μ λ§λ²•](#1-μλ™-μ—°κ²°-auto-linkingμ-λ§λ²•)
    - [μ—­λ°©ν–¥ λ§ν¬ (Backlink) λ¶„μ„](#2-μ—­λ°©ν–¥-λ§ν¬-backlink-λ¶„μ„)
5. [π›  κ³ κΈ‰ ν™μ© & ν](#-κ³ κΈ‰-ν™μ©--ν)
    - [CLI λ…λ Ήμ–΄ μΉνΈμ‹νΈ](#cli-λ…λ Ήμ–΄-μΉνΈμ‹νΈ)
    - [ν™κ²½ μ§„λ‹¨ (`doctor`)](#ν™κ²½-μ§„λ‹¨-doctor)
    - [Obsidian ν”λ¬κ·ΈμΈ ν™μ©](#obsidian-ν”λ¬κ·ΈμΈ-ν™μ©)

---

## π ANAλ€ λ¬΄μ—‡μΈκ°€μ”?

ANA(**Atomic Note Architect**)λ” μ ν…”μΉ΄μ¤ν…(Zettelkasten) λ©”λ¨λ²•μ„ μ‹¤μ²ν•κ³  μ‹¶μ§€λ§, **"μ–΄λ–»κ² μΌκ°κ³  μ—°κ²°ν• μ§€"** κ³ λ―Όν•λ” λ¶„λ“¤μ„ μ„ν•΄ λ§λ“¤μ–΄μ΅μµλ‹λ‹¤.

### ν•µμ‹¬ μ² ν•™
- **Atomicity (μ›μμ„±)**: ν•λ‚μ λ…ΈνΈλ” ν•λ‚μ μ•„μ΄λ””μ–΄λ§ λ‹΄μ•„μ•Ό ν•©λ‹λ‹¤.
- **Context (λ§¥λ½)**: λ…ΈνΈλ” κ·Έ μμ²΄λ΅ μ™„κ²°λ μ •λ³΄λ¥Ό κ°€μ Έμ•Ό ν•©λ‹λ‹¤.
- **Connectivity (μ—°κ²°μ„±)**: κ³ λ¦½λ λ…ΈνΈλ” μ£½μ€ μ§€μ‹μ…λ‹λ‹¤. λ¨λ“  λ…ΈνΈλ” μ—°κ²°λμ–΄μ•Ό ν•©λ‹λ‹¤.

### π§  μ‘λ™ μ›λ¦¬ (The Logic)
ANAλ” λ‹¨μν• "μ”μ•½" ν΄μ΄ μ•„λ‹™λ‹λ‹¤. μΈκ°„μ μΈμ§€ κ³Όμ •μ„ λ¨λ°©ν• **3λ‹¨κ³„ νμ΄ν”„λΌμΈ**μ„ ν†µν•΄ μ‚¬κ³ λ¥Ό ν™•μ¥ν•©λ‹λ‹¤.

1.  **π” λ¶„μ„ (Analysis)**: λ‹Ήμ‹ μ λ©”λ¨λ¥Ό μ½κ³  μ£Όμ λ¥Ό νμ•…ν•©λ‹λ‹¤. λ‚΄μ©μ΄ λ¶μ¶©λ¶„ν•κ±°λ‚, μ—¬λ¬ μ£Όμ κ°€ μ„μ—¬μλ‹¤λ©΄ κ°μ§€ν•΄λƒ…λ‹λ‹¤.
2.  **π’¬ μ‹¬λ¬Έ (Interrogation)**: "μ†ν¬λΌν…μ¤μ‹ λ¬Έλ‹µλ²•"μ„ μ‚¬μ©ν•©λ‹λ‹¤. AIκ°€ μ—­μΌλ΅ μ§λ¬Έμ„ λμ Έ λ‹Ήμ‹ μ μ•”λ¬µμ§€(Tacit Knowledge)λ¥Ό λμ–΄λƒ…λ‹λ‹¤.
3.  **β¨ ν•©μ„± (Synthesis)**: λ‹Ήμ‹ μ λ‹µλ³€κ³Ό μ›λ³Έ λ©”λ¨λ¥Ό κ²°ν•©ν•μ—¬, μ™„κ²°μ„± μλ” ν•λ‚μ κµ¬μ΅°ν™”λ λ…ΈνΈλ΅ μ¬νƒ„μƒμ‹ν‚µλ‹λ‹¤.

---

## π€ μ‹μ‘ν•κΈ° (Getting Started)

### 1. μ„¤μΉν•κΈ°
Python 3.10 μ΄μƒμ΄ μ„¤μΉλμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤. ν¨ν‚¤μ§€ λ§¤λ‹μ €λ΅λ” `uv`λ¥Ό κ°•λ ¥ μ¶”μ²ν•©λ‹λ‹¤ (λΉ λ¥΄κ³  κ°„νΈν•©λ‹λ‹¤!).

```bash
# 1. μ†μ¤ μ½”λ“ λ‹¤μ΄λ΅λ“
git clone https://github.com/neuvi/ana.git
cd ana

# 2. ν¨ν‚¤μ§€ μ„¤μΉ (uv μ‚¬μ© μ‹)
uv sync

# (λλ” pip μ‚¬μ© μ‹)
# pip install -e .
```

### 2. μ„¤μ •ν•κΈ° (Ollama & Docker ν¬ν•¨)

ANAμ κ°•λ ¥ν•¨μ€ μ μ—°ν• LLM μ„¤μ •μ—μ„ λ‚μµλ‹λ‹¤.

**κΈ°λ³Έ μ„¤μ • λ§λ²•μ‚¬ μ‹¤ν–‰:**
κ°€μ¥ μ‰¬μ΄ λ°©λ²•μ€ μ„¤μ • λ§λ²•μ‚¬λ¥Ό μ΄μ©ν•λ” κ²ƒμ…λ‹λ‹¤.
```bash
ana config init
```

**μλ™ μ„¤μ • (.env):**
ν”„λ΅μ νΈ λ£¨νΈμ `.env` νμΌμ„ μ§μ ‘ μμ •ν•  μλ„ μμµλ‹λ‹¤.

**π³ Dockerλ΅ λ„μ΄ Ollama μ—°κ²°ν•κΈ°**
λ΅μ»¬μ—μ„λ‚ μ„λ²„μ— Dockerλ΅ Ollamaλ¥Ό λ„μ›λ‘μ…¨λ‚μ”? ANAλ” μ΄λ¥Ό μ™„λ²½ν•κ² μ§€μ›ν•©λ‹λ‹¤.

```ini
# .env νμΌ μμ‹

# LLM μ κ³µμ μ„¤μ •
ANA_LLM_PROVIDER=ollama
# μ¤‘μ”: Docker μ»¨ν…μ΄λ„ μ™Έλ¶€μ—μ„ μ ‘κ·Όν•λ―€λ΅ localhost λλ” ν•΄λ‹Ή μ„λ²„ IP μ…λ ¥
ANA_OLLAMA_BASE_URL=http://localhost:11434 
ANA_OLLAMA_MODEL=llama3.1:8b

# μ„λ² λ”©(Embedding)λ„ Ollamaλ΅ μ„¤μ • κ°€λ¥
ANA_EMBEDDING_PROVIDER=ollama
ANA_EMBEDDING_MODEL=nomic-embed-text
```

> **Tip**: λ¨λΈμ΄ μ—†λ‹¤λ©΄ `ollama pull llama3.1:8b` λ…λ Ήμ–΄λ΅ λ¨Όμ € λ‹¤μ΄λ΅λ“ λ°›μ•„μ£Όμ„Έμ”.

---

## π’» κΈ°λ³Έ μ‚¬μ©λ²•

### 1. μƒ λ…ΈνΈ λ§λ“¤κΈ°: 3λ‹¨κ³„ μ—¬μ •
κ°€μ¥ κΈ°λ³Έμ μ΄κ³  κ°•λ ¥ν• κΈ°λ¥μ…λ‹λ‹¤. ν„°λ―Έλ„μ—μ„ λ‹¤μμ„ μ…λ ¥ν•μ„Έμ”.

```bash
ana new
```

**STEP 1: μ…λ ¥**
```text
Enter your raw note:
(μ—¬κΈ°μ— λ€μ¶© λ„μ κ±°λ¦° λ©”λ¨λ¥Ό μ…λ ¥ν•μ„Έμ”)
μ: RAGμ— λ€ν•΄ κ³µλ¶€ν–λ”λ°, μ΄κ² κ²€μƒ‰μ΄λ‘ μƒμ„±μ„ ν•©μΉκ±°λΌλ”λΌ. LLM ν™κ° μ¤„μ΄λ”λ° μΆ‹λ€.
(μ—”ν„° λ‘ λ²μΌλ΅ μ…λ ¥ μ™„λ£)
```

**STEP 2: λ€ν™” (Interrogation)**
ANAκ°€ λ‹Ήμ‹ μ λ©”λ¨λ¥Ό λ¶„μ„ν•κ³  λ¶€μ΅±ν• λ¶€λ¶„μ„ λ¬Όμ–΄λ΄…λ‹λ‹¤.
```text
π¤– AI: RAGμ κµ¬μ²΄μ μΈ μ‘λ™ ν”„λ΅μ„Έμ¤(Retrieval -> Generation)μ— λ€ν•΄ μΆ€ λ” μ„¤λ…ν•΄ μ£Όμ‹¤ μ μλ‚μ”?
π‘¤ λ‚: μ‚¬μ©μμ μ§λ¬Έμ„ μ„λ² λ”©ν•΄μ„ DBμ—μ„ μ μ‚¬ν• λ¬Έμ„λ¥Ό μ°Ύκ³ , κ·Έκ±Έ ν”„λ΅¬ν”„νΈμ— λ„£μ–΄μ„ LLMν•ν… μ£Όλ” κ±°μ•Ό.
```
*κ·€μ°®λ‹¤λ©΄ μ—”ν„°λ§ μ³μ„ λ„μ–΄κ° μλ„ μμµλ‹λ‹¤.*

**STEP 3: κ²°κ³Ό ν™•μΈ λ° μ €μ¥**
ANAκ°€ κΉ”λ”ν•κ² μ •λ¦¬λ Markdown λ…ΈνΈλ¥Ό λ³΄μ—¬μ¤λ‹λ‹¤. λ§μμ— λ“¤λ©΄ μ €μ¥ν•μ„Έμ”!

### 2. κΈ°μ΅΄ λ…ΈνΈ μ²λ¦¬ν•κΈ°
μ΄λ―Έ μ‘μ„±λ νμΌμ΄ μλ‹¤λ©΄ `process` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ„Έμ”.

```bash
ana process ./my_rough_draft.txt
```

### 3. μ¤λ§νΈ λ…ΈνΈ λ¶„ν• 
λ§μ•½ νƒκ·Έκ°€ μ—¬λ¬ κ°μΈ λ³µμ΅ν• κΈ€μ„ μ…λ ¥ν–λ‹¤λ©΄? ANAκ°€ **"μ΄ λ…ΈνΈλ” μΌκ°λ” κ² μΆ‹κ² μ–΄μ”!"** λΌκ³  μ μ•ν•©λ‹λ‹¤.

```text
β οΈ This note contains multiple concepts!
Detected concepts: RAG, GraphDatabase

1. RAG-κ°μ”.md
2. Graph-DB-νΉμ§•.md

[split/continue] μ„ νƒ: split
```
`split`μ„ μ„ νƒν•λ©΄, ANAκ°€ μ•μ•„μ„ λ‚΄μ©μ„ λ°μ·ν•΄ κ°κ° λ…λ¦½λ λ…ΈνΈλ΅ λ§λ“¤μ–΄μ¤λ‹λ‹¤.

---

## π§  ν•µμ‹¬ κΈ°λ¥ μ‹¬μΈµ λ¶„μ„

### 1. μλ™ μ—°κ²° (Auto-Linking)μ λ§λ²•
ANAλ” λ‹¨μν ν…μ¤νΈλ§ μ €μ¥ν•μ§€ μ•μµλ‹λ‹¤. λ‹Ήμ‹ μ Vault(μ§€μ‹ μ €μ¥μ†)λ¥Ό λ’¤μ Έμ„ **"μ΄ λ…ΈνΈμ™€ κ΄€λ ¨ μλ” λ‹¤λ¥Έ λ…ΈνΈ"**λ¥Ό μ°Ύμ•„λ‚΄ μ—°κ²°ν•΄μ¤λ‹λ‹¤.

**μ–΄λ–»κ² μ‘λ™ν•λ‚μ”? (2-Stage Retrieval)**
1.  **1λ‹¨κ³„ (Broad Search)**: ν‚¤μ›λ“ κ²€μƒ‰(BM25)κ³Ό μλ―Έ κΈ°λ° κ²€μƒ‰(Vector Embedding)μ„ νΌν•©ν•μ—¬ ν›„λ³΄κµ° 30κ°λ¥Ό λΉ λ¥΄κ² μ°Ύμµλ‹λ‹¤.
2.  **2λ‹¨κ³„ (Deep Rerank)**: `Cross-Encoder`λΌλ” μ •λ°€ν• AI λ¨λΈμ΄ 30κ°μ ν›„λ³΄λ¥Ό ν•λ‚ν•λ‚ μ½μ–΄λ³΄κ³ , μ§„μ§ κ΄€λ ¨μ΄ κΉμ€ μμ„λ€λ΅ μ¬μ •λ ¬ν•©λ‹λ‹¤.
3.  **κ²°κ³Ό**: κ°€μ¥ κ΄€λ ¨μ„± λ†’μ€ Top 5 λ…ΈνΈκ°€ `## κ΄€λ ¨ λ…ΈνΈ` μ„Ήμ…μ— μλ™μΌλ΅ μ¶”κ°€λ©λ‹λ‹¤.

### 2. μ—­λ°©ν–¥ λ§ν¬ (Backlink) λ¶„μ„
μƒ λ…ΈνΈλ¥Ό μ €μ¥ν•  λ•, **κΈ°μ΅΄μ— μλ λ‹¤λ¥Έ λ…ΈνΈλ“¤**λ„ μ—…λ°μ΄νΈν•©λ‹λ‹¤.
- μ: μƒλ΅ λ§λ“  λ…ΈνΈκ°€ `RAG.md`λΌλ©΄, κΈ°μ΅΄μ— μλ `LLM_Study.md` νμΌ λ‚΄μ© μ¤‘ "RAG"λΌλ” λ‹¨μ–΄λ¥Ό μ°Ύμ•„ `[[RAG]]`λ΅ λ§ν¬λ¥Ό κ±Έμ–΄μ¤λ‹λ‹¤.
- **ν¨κ³Ό**: λ…ΈνΈλ¥Ό μ“μ•„κ°μλ΅ μ§€μ‹μ κ·Έλ¬Όλ§μ΄ μ΄μ΄ν•΄μ§‘λ‹λ‹¤.

---

## π›  κ³ κΈ‰ ν™μ© & ν

### CLI λ…λ Ήμ–΄ μΉνΈμ‹νΈ

| λ…λ Ήμ–΄ | μ„¤λ… | μμ‹ |
|--------|------|------|
| `ana new` | λ€ν™”ν• μƒ λ…ΈνΈ μƒμ„± | `ana new --output ./notes` |
| `ana process` | νμΌ μ²λ¦¬ | `ana process draft.txt` |
| `ana sync` | μ„λ² λ”© λ°μ΄ν„° λ™κΈ°ν™” | `ana sync --force` |
| `ana config` | μ„¤μ • κ΄€λ¦¬ | `ana config set llm_model gpt-4` |
| `ana doctor` | λ¬Έμ  ν•΄κ²° μ§„λ‹¨ λ„κµ¬ | `ana doctor` |

### ν™κ²½ μ§„λ‹¨ (`doctor`)
λ­”κ°€ μ μ• λλ‚μ”? μμ‚¬λ¥Ό λ¶€λ¥΄μ„Έμ”!
```bash
ana doctor
```
API ν‚¤ μ„¤μ •, λ„¤νΈμ›ν¬ μ—°κ²°, ν•„μ ν¨ν‚¤μ§€ μ„¤μΉ μ—¬λ¶€ λ“±μ„ μΆ…ν•© κ²€μ§„ν•΄μ¤λ‹λ‹¤.

### Obsidian ν”λ¬κ·ΈμΈ ν™μ©
ν„°λ―Έλ„μ΄ μ–΄μƒ‰ν•λ‹¤λ©΄ Obsidian μ•μ—μ„ λ°”λ΅ ANAλ¥Ό μ“Έ μ μμµλ‹λ‹¤.
1. ν„°λ―Έλ„μ—μ„ `ana serve`λ΅ μ„λ²„λ¥Ό μΌ­λ‹λ‹¤.
2. Obsidianμ—μ„ `Ctrl+P` -> `ANA: Process Current Note`λ¥Ό μ‹¤ν–‰ν•μ„Έμ”.
3. Obsidian ν™”λ©΄ μ•μ—μ„ AIμ™€ λ€ν™”ν•λ©° λ…ΈνΈλ¥Ό λ‹¤λ“¬μ„ μ μμµλ‹λ‹¤.

---

**Happy Note Taking with ANA!** π€
ANAμ™€ ν•¨κ» λ‹Ήμ‹ λ§μ κ±°λ€ν• μ§€μ‹ μ°μ£Όλ¥Ό κµ¬μ¶•ν•μ„Έμ”.
